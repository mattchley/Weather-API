<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>New York Times Search</title>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />

</head>

<nav class="navbar navbar-light bg-light">
    <span class="navbar-brand mb-0 h1">Weather Dashboard</span>
</nav>

<body>
    <div class="container">
        <div class="row">
            <div class='col-3'>
                Search for a city:
                <form class="form-inline my-2 my-lg-0">
                    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success my-2 my-sm-0" id="city-search" type="submit">City
                        Name</button>
                </form>
            </div>
            <div class="row">
                <div class="col-12 main">
                    <div class="jumbotron jumbotron-fluid">
                        <h1 id="main-title" class="display-9"></h1>
                        <p id="main-temp" class="lead"></p>
                        <p id="main-humidity" class="lead"></p>
                        <p id="main-wind" class="lead"></p>
                        <p id="main-UV" class="lead"></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2 5-day">
                        <div class="card" style="width: 18rem;">
                            <img src="https://via.placeholder.com/150

                            C/O https://placeholder.com/#How_To_Set_Image_Size" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 id='5-day title' class="card-title">Card title</h5>
                                <p id='5-day content' class="card-text">
                                    CITY TITLE
                                    <br>
                                    IMG
                                    <br>
                                    TEMP: F
                                    <br>
                                    HUMDITY: %
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
    <!-- Code to the JavaScript File -->
    <script text="text/javascript">
        // Variables
        // var cityInput = $('#city-search')
        var cityInput = "Stockholm"

        var mainWeatherTitle = $('#main-title')
        var mainWeatherTemp = $('#main-temp')
        var mainWeatherHumidity = $('#main-humidity')
        var mainWeatherWind = $('#main-wind')
        var mainWeatherUV = $('#main-UV')

        var fiveDayTitle = $('#5-day title');
        var fiveDayContent = $('#5-day content')

        var APIKey = "3a92bc0a0ca29575a3569a00c0268022";
        var queryURL = "https://api.openweathermap.org/data/2.5/weather?" +
            "q=" + cityInput + "&units=imperial&APPID=" + APIKey;


        function renderMainData() {
            $.ajax({
                url: queryURL,
                method: "GET"
            })
                .then(function (response) {

                    // Log the queryURL
                    console.log(queryURL);

                    // Log the resulting object
                    console.log(response);

                    var main = response.name;
                    var mainTemp = response.main.temp;
                    var mainHumidity = response.main.humidity;
                    var mainWind = response.wind.speed;
                    //    UV is a seperate call putting in country for the time being
                    var mainUv = response.sys.country;

                    mainWeatherTitle.text(main);
                    mainWeatherTemp.text('Temp: ' + mainTemp);
                    mainWeatherHumidity.text('Humidity: ' + mainHumidity);
                    mainWeatherWind.text('Wind Speed: ' + mainWind);
                    mainWeatherUV.text('UV Index: ' + mainUv);
                });
        }
        renderMainData();
    </script>

</body>

</html>